<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Step 2: Timezone Setup - Calendar Configuration Wizard</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Additional styles specific to Step 2 */
    .section-box {
      background: white;
      border-radius: var(--radius-md);
      padding: var(--space-2);
      margin-bottom: var(--space-2);
    }

    .timezone-detected {
      display: flex;
      align-items: flex-start;
      gap: var(--space-2);
    }

    .timezone-detected-icon {
      font-size: 20px;
      flex-shrink: 0;
    }

    .timezone-detected-content {
      flex-grow: 1;
    }

    .timezone-value {
      font-size: var(--font-size-base);
      font-weight: var(--font-weight-bold);
      color: #1B5E20;
      margin-bottom: var(--space-1);
    }

    .change-link {
      color: var(--color-primary);
      text-decoration: underline;
      cursor: pointer;
      font-size: var(--font-size-sm);
    }

    .change-link:hover {
      color: var(--color-primary-dark);
    }

    .australia-warning {
      background: var(--color-warning-light);
      border-left: 3px solid var(--color-warning);
      padding: var(--space-2);
      border-radius: var(--radius-md);
      margin-bottom: var(--space-2);
    }

    .australia-warning-header {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      margin-bottom: var(--space-1);
    }

    .australia-warning-icon {
      font-size: 20px;
      flex-shrink: 0;
    }

    .australia-warning-title {
      font-size: var(--font-size-base);
      font-weight: var(--font-weight-bold);
      color: #E65100;
      margin: 0;
    }

    .australia-warning-content {
      color: #E65100;
      line-height: var(--line-height-normal);
      font-size: var(--font-size-sm);
    }

    .australia-warning-content ul {
      margin: var(--space-1) 0;
      padding-left: var(--space-3);
    }

    .australia-warning-content li {
      margin-bottom: 4px;
    }

    .warning-learn-more {
      display: inline-flex;
      align-items: center;
      gap: var(--space-1);
      color: #E65100;
      font-weight: var(--font-weight-semibold);
      text-decoration: underline;
      cursor: pointer;
      margin-top: var(--space-1);
      font-size: var(--font-size-sm);
    }

    .warning-learn-more:hover {
      color: #BF360C;
    }

    .checkbox-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: var(--space-2);
      margin-top: var(--space-2);
    }

    .checkbox-option {
      display: flex;
      align-items: center;
      padding: 8px var(--space-2);
      border: 2px solid var(--color-gray-200);
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all var(--transition-base);
    }

    .checkbox-option:hover {
      border-color: var(--color-primary-light);
      background: var(--color-primary-light);
    }

    .checkbox-option input[type="checkbox"] {
      margin-right: var(--space-2);
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    .checkbox-option-label {
      font-size: var(--font-size-sm);
      color: var(--color-gray-900);
      cursor: pointer;
    }

    .config-summary {
      background: var(--color-gray-50);
      border-radius: var(--radius-md);
      padding: var(--space-2);
      margin-top: var(--space-2);
    }

    .config-summary-title {
      font-weight: var(--font-weight-semibold);
      margin-bottom: var(--space-1);
      color: var(--color-gray-900);
      font-size: var(--font-size-sm);
    }

    .config-summary-item {
      display: flex;
      align-items: center;
      gap: var(--space-1);
      padding: 4px 0;
      color: var(--color-gray-700);
      font-size: var(--font-size-sm);
    }

    .config-summary-icon {
      color: var(--color-success);
    }
  </style>
</head>
<body>
  <div class="wizard-container">
    <div class="wizard-card">
      <!-- Progress Indicator -->
      <div class="wizard-progress">
        <div class="progress-steps">
          <div class="progress-step completed">
            <div class="progress-step-circle">✓</div>
            <div class="progress-step-label">Use Case</div>
            <div class="progress-step-connector"></div>
          </div>
          <div class="progress-step active">
            <div class="progress-step-circle">2</div>
            <div class="progress-step-label">Timezone</div>
            <div class="progress-step-connector"></div>
          </div>
          <div class="progress-step">
            <div class="progress-step-circle">3</div>
            <div class="progress-step-label">Configure</div>
            <div class="progress-step-connector"></div>
          </div>
          <div class="progress-step">
            <div class="progress-step-circle">4</div>
            <div class="progress-step-label">Display</div>
            <div class="progress-step-connector"></div>
          </div>
          <div class="progress-step">
            <div class="progress-step-circle">5</div>
            <div class="progress-step-label">Preview</div>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="wizard-content">
        <div class="wizard-header">
          <h1 class="wizard-title">Timezone & Regional Settings</h1>
          <p class="wizard-subtitle">Configure timezone handling to prevent scheduling errors</p>
        </div>

        <!-- Section 1: Auto-detected Timezone -->
        <div class="alert-box alert-success">
          <div class="timezone-detected">
            <div class="timezone-detected-icon">✅</div>
            <div class="timezone-detected-content">
              <div class="alert-box-title">We've detected your timezone</div>
              <div class="timezone-value">Europe/Warsaw (GMT+1)</div>
              <a class="change-link">Change timezone</a>
            </div>
          </div>
        </div>

        <!-- Section 2: Cross-timezone Question -->
        <div class="form-group" style="margin-bottom: var(--space-2);">
          <label class="form-label">
            Will users book appointments from different timezones?
          </label>
          <p style="font-size: var(--font-size-sm); color: var(--color-gray-600); margin-bottom: var(--space-2);">
            For example, telehealth appointments with patients in other regions
          </p>

          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="cross-timezone" value="no" checked>
              <span class="radio-option-label">No - All users are in the same timezone</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="cross-timezone" value="yes" id="cross-timezone-yes">
              <span class="radio-option-label">Yes - Users may be in different timezones</span>
            </label>
          </div>
        </div>

        <!-- Section 3: Region Selection (shown when "Yes" is selected) -->
        <div id="region-selection" style="display: none;">
          <div class="form-group">
            <label class="form-label">Which regions will your users be in?</label>
            <p style="font-size: var(--font-size-sm); color: var(--color-gray-600); margin-bottom: var(--space-2);">
              Select all that apply
            </p>

            <div class="checkbox-group">
              <label class="checkbox-option">
                <input type="checkbox" name="region" value="europe">
                <span class="checkbox-option-label">Europe</span>
              </label>
              <label class="checkbox-option">
                <input type="checkbox" name="region" value="north-america">
                <span class="checkbox-option-label">North America</span>
              </label>
              <label class="checkbox-option">
                <input type="checkbox" name="region" value="asia">
                <span class="checkbox-option-label">Asia</span>
              </label>
              <label class="checkbox-option">
                <input type="checkbox" name="region" value="australia" id="australia-checkbox">
                <span class="checkbox-option-label">Australia/Oceania</span>
              </label>
              <label class="checkbox-option">
                <input type="checkbox" name="region" value="south-america">
                <span class="checkbox-option-label">South America</span>
              </label>
              <label class="checkbox-option">
                <input type="checkbox" name="region" value="africa">
                <span class="checkbox-option-label">Africa</span>
              </label>
            </div>
          </div>

          <!-- Australia DST Warning (shown when Australia is selected) -->
          <div id="australia-warning" class="australia-warning" style="display: none;">
            <div class="australia-warning-header">
              <div class="australia-warning-icon">⚠️</div>
              <h2 class="australia-warning-title">AUSTRALIA DETECTED</h2>
            </div>
            <div class="australia-warning-content">
              <p style="margin-bottom: var(--space-2);"><strong>Important: Australia has complex DST rules:</strong></p>
              <ul>
                <li><strong>NSW, VIC, SA, TAS:</strong> DST observed (October - April)</li>
                <li><strong>QLD, WA, NT:</strong> NO DST</li>
                <li>This creates <strong>5 different timezone zones</strong> during Australian summer</li>
              </ul>
              <p style="margin-top: var(--space-2);">
                We'll automatically handle this, but please verify appointment times are displayed
                correctly in your preview (Step 5).
              </p>
              <a class="warning-learn-more" href="#" onclick="return false;">
                Learn more about DST handling →
              </a>
            </div>
          </div>

          <!-- Configuration Summary -->
          <div class="config-summary">
            <div class="config-summary-title">✅ Configuration Applied:</div>
            <div class="config-summary-item">
              <span class="config-summary-icon">✓</span>
              <span>Store all times in UTC (universal time)</span>
            </div>
            <div class="config-summary-item">
              <span class="config-summary-icon">✓</span>
              <span>Display times in each user's local timezone</span>
            </div>
            <div class="config-summary-item">
              <span class="config-summary-icon">✓</span>
              <span>Auto-adjust for DST transitions</span>
            </div>
          </div>
        </div>

        <!-- Section 4: Technical Info Box -->
        <div class="alert-box alert-info" style="margin-top: var(--space-2);">
          <div style="display: flex; align-items: flex-start; gap: var(--space-2);">
            <div class="alert-box-icon" style="font-size: 16px;">ℹ️</div>
            <div>
              <div class="alert-box-title" style="font-size: var(--font-size-sm);">How timezone handling works</div>
              <p style="margin-top: 4px; line-height: var(--line-height-normal); font-size: var(--font-size-sm);">
                We'll store all appointment times in UTC and display them in each user's local timezone automatically.
              </p>
            </div>
          </div>
        </div>

        <!-- Skip Link -->
        <div class="skip-link">
          <button class="button-link">Skip wizard - Configure manually →</button>
        </div>
      </div>

      <!-- Footer Navigation -->
      <div class="wizard-footer">
        <div>
          <button class="button button-secondary">← Back</button>
        </div>
        <div>
          <button class="button button-primary">Next →</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Interactive functionality for the mockup
    const crossTimezoneYes = document.getElementById('cross-timezone-yes');
    const regionSelection = document.getElementById('region-selection');
    const australiaCheckbox = document.getElementById('australia-checkbox');
    const australiaWarning = document.getElementById('australia-warning');

    // Show/hide region selection based on cross-timezone choice
    document.querySelectorAll('input[name="cross-timezone"]').forEach(radio => {
      radio.addEventListener('change', (e) => {
        if (e.target.value === 'yes') {
          regionSelection.style.display = 'block';
        } else {
          regionSelection.style.display = 'none';
          australiaWarning.style.display = 'none';
          australiaCheckbox.checked = false;
        }
      });
    });

    // Show/hide Australia warning based on checkbox
    australiaCheckbox.addEventListener('change', (e) => {
      if (e.target.checked) {
        australiaWarning.style.display = 'block';
        // Smooth scroll to warning
        setTimeout(() => {
          australiaWarning.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }, 100);
      } else {
        australiaWarning.style.display = 'none';
      }
    });

    // For demo: auto-select "Yes" and show Australia warning after 2 seconds
    setTimeout(() => {
      crossTimezoneYes.checked = true;
      crossTimezoneYes.dispatchEvent(new Event('change'));

      setTimeout(() => {
        australiaCheckbox.checked = true;
        australiaCheckbox.dispatchEvent(new Event('change'));
      }, 500);
    }, 2000);
  </script>
</body>
</html>
