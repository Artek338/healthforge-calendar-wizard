<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Step 5: Preview & Test - Calendar Configuration Wizard</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Additional styles specific to Step 5 */
    .wizard-card.wide {
      max-width: 1000px;
    }

    .preview-layout {
      display: grid;
      grid-template-columns: 360px 1fr;
      gap: var(--space-3);
      margin-top: var(--space-3);
    }

    /* Left Panel - Validation Checklist */
    .validation-panel {
      background: white;
      border: 2px solid var(--color-gray-200);
      border-radius: var(--radius-lg);
      padding: var(--space-2);
      height: fit-content;
    }

    .validation-title {
      font-size: var(--font-size-base);
      font-weight: var(--font-weight-bold);
      margin-bottom: var(--space-2);
      color: var(--color-gray-900);
    }

    .validation-item {
      display: flex;
      align-items: flex-start;
      gap: var(--space-2);
      padding: 6px 0;
      border-bottom: 1px solid var(--color-gray-100);
    }

    .validation-item:last-child {
      border-bottom: none;
    }

    .validation-icon {
      font-size: 16px;
      flex-shrink: 0;
      margin-top: 1px;
    }

    .validation-content {
      flex-grow: 1;
    }

    .validation-label {
      font-weight: var(--font-weight-semibold);
      color: var(--color-gray-900);
      margin-bottom: 2px;
      font-size: var(--font-size-sm);
    }

    .validation-detail {
      font-size: var(--font-size-xs);
      color: var(--color-gray-600);
      line-height: var(--line-height-normal);
    }

    .test-button {
      margin-top: var(--space-2);
      width: 100%;
    }

    /* Right Panel - Calendar Preview */
    .calendar-panel {
      background: white;
      border: 2px solid var(--color-gray-200);
      border-radius: var(--radius-lg);
      padding: var(--space-2);
      min-height: 500px;
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--space-2);
      padding-bottom: var(--space-2);
      border-bottom: 2px solid var(--color-gray-200);
    }

    .calendar-nav {
      display: flex;
      align-items: center;
      gap: var(--space-2);
    }

    .calendar-nav-button {
      background: var(--color-gray-100);
      border: none;
      border-radius: var(--radius-md);
      padding: 6px 10px;
      cursor: pointer;
      font-size: var(--font-size-sm);
      transition: all var(--transition-base);
    }

    .calendar-nav-button:hover {
      background: var(--color-gray-200);
    }

    .calendar-month {
      font-size: var(--font-size-base);
      font-weight: var(--font-weight-bold);
      color: var(--color-gray-900);
    }

    .calendar-view-select {
      padding: 6px 12px;
      border: 2px solid var(--color-gray-200);
      border-radius: var(--radius-md);
      font-size: var(--font-size-sm);
      cursor: pointer;
      background: white;
    }

    .timezone-display {
      font-size: var(--font-size-xs);
      color: var(--color-gray-600);
      margin-bottom: var(--space-2);
      padding: var(--space-2);
      background: var(--color-gray-50);
      border-radius: var(--radius-md);
      text-align: center;
    }

    /* Calendar Grid */
    .calendar-grid {
      display: grid;
      grid-template-columns: 60px repeat(5, 1fr);
      gap: 1px;
      background: var(--color-gray-200);
      border: 1px solid var(--color-gray-200);
      border-radius: var(--radius-md);
      overflow: hidden;
    }

    .calendar-header-cell {
      background: var(--color-gray-100);
      padding: 6px var(--space-1);
      text-align: center;
      font-weight: var(--font-weight-semibold);
      font-size: var(--font-size-xs);
      color: var(--color-gray-700);
    }

    .calendar-time-cell {
      background: white;
      padding: 6px;
      font-size: 10px;
      color: var(--color-gray-600);
      text-align: right;
      display: flex;
      align-items: flex-start;
      justify-content: flex-end;
    }

    .calendar-slot {
      background: white;
      padding: 4px;
      min-height: 48px;
      position: relative;
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .calendar-slot:hover {
      background: var(--color-gray-50);
    }

    .calendar-slot.available {
      background: #F0F9FF;
    }

    .calendar-appointment {
      background: linear-gradient(135deg, var(--color-primary) 0%, #1976D2 100%);
      color: white;
      padding: 6px;
      border-radius: var(--radius-sm);
      font-size: 10px;
      font-weight: var(--font-weight-semibold);
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      box-shadow: var(--shadow-sm);
    }

    .success-confirmation {
      margin-top: var(--space-2);
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .footer-actions {
      display: flex;
      gap: var(--space-2);
    }

    @media (max-width: 1200px) {
      .preview-layout {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="wizard-container">
    <div class="wizard-card wide">
      <!-- Progress Indicator -->
      <div class="wizard-progress">
        <div class="progress-steps">
          <div class="progress-step completed">
            <div class="progress-step-circle">‚úì</div>
            <div class="progress-step-label">Use Case</div>
            <div class="progress-step-connector"></div>
          </div>
          <div class="progress-step completed">
            <div class="progress-step-circle">‚úì</div>
            <div class="progress-step-label">Timezone</div>
            <div class="progress-step-connector"></div>
          </div>
          <div class="progress-step completed">
            <div class="progress-step-circle">‚úì</div>
            <div class="progress-step-label">Configure</div>
            <div class="progress-step-connector"></div>
          </div>
          <div class="progress-step completed">
            <div class="progress-step-circle">‚úì</div>
            <div class="progress-step-label">Display</div>
            <div class="progress-step-connector"></div>
          </div>
          <div class="progress-step active">
            <div class="progress-step-circle">5</div>
            <div class="progress-step-label">Preview</div>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="wizard-content">
        <div class="wizard-header">
          <h1 class="wizard-title">Preview & Test Your Calendar</h1>
          <p class="wizard-subtitle">Review your settings and test booking before deployment</p>
        </div>

        <div class="preview-layout">
          <!-- Left Panel: Validation Checklist -->
          <div class="validation-panel">
            <h2 class="validation-title">Configuration Summary</h2>

            <div class="validation-item">
              <div class="validation-icon">‚úÖ</div>
              <div class="validation-content">
                <div class="validation-label">Use Case</div>
                <div class="validation-detail">Patient Appointments</div>
              </div>
            </div>

            <div class="validation-item">
              <div class="validation-icon">‚úÖ</div>
              <div class="validation-content">
                <div class="validation-label">Timezone</div>
                <div class="validation-detail">
                  Europe/Warsaw (GMT+1)<br>
                  <span style="font-size: var(--font-size-xs);">‚Ä¢ Cross-timezone: Enabled</span>
                </div>
              </div>
            </div>

            <div class="validation-item">
              <div class="validation-icon">‚úÖ</div>
              <div class="validation-content">
                <div class="validation-label">Availability</div>
                <div class="validation-detail">Mon-Fri, 8:00 AM - 6:00 PM</div>
              </div>
            </div>

            <div class="validation-item">
              <div class="validation-icon">‚úÖ</div>
              <div class="validation-content">
                <div class="validation-label">Slot Duration</div>
                <div class="validation-detail">30 minutes</div>
              </div>
            </div>

            <div class="validation-item">
              <div class="validation-icon">‚úÖ</div>
              <div class="validation-content">
                <div class="validation-label">Buffer Time</div>
                <div class="validation-detail">10 minutes between appointments</div>
              </div>
            </div>

            <div class="validation-item">
              <div class="validation-icon">‚úÖ</div>
              <div class="validation-content">
                <div class="validation-label">Booking Window</div>
                <div class="validation-detail">90 days ahead</div>
              </div>
            </div>

            <div class="validation-item">
              <div class="validation-icon">‚úÖ</div>
              <div class="validation-content">
                <div class="validation-label">No Configuration Errors</div>
                <div class="validation-detail">All settings validated successfully</div>
              </div>
            </div>

            <button class="button button-primary test-button" id="test-booking-btn" style="padding: 8px;">
              üß™ Book Sample Appointment
            </button>

            <div id="success-message" class="success-confirmation" style="display: none;">
              <div class="alert-box alert-success" style="padding: var(--space-2);">
                <div style="display: flex; align-items: flex-start; gap: var(--space-2);">
                  <div class="alert-box-icon" style="font-size: 16px;">‚úÖ</div>
                  <div>
                    <div class="alert-box-title" style="font-size: var(--font-size-sm);">Test booking successful!</div>
                    <p style="margin-top: 4px; font-size: var(--font-size-xs); line-height: var(--line-height-normal);">
                      Appointment created:<br>
                      <strong>Feb 10, 9:00 AM - 9:30 AM</strong><br>
                      Timezone verified: Europe/Warsaw
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <div style="margin-top: var(--space-2); padding-top: var(--space-2); border-top: 1px solid var(--color-gray-200);">
              <button class="button-link" style="width: 100%; text-align: center; font-size: var(--font-size-xs);">
                ‚Üê Need to change something? Go back to edit
              </button>
            </div>
          </div>

          <!-- Right Panel: Calendar Preview -->
          <div class="calendar-panel">
            <div class="calendar-header">
              <div class="calendar-nav">
                <button class="calendar-nav-button">‚Äπ</button>
                <div class="calendar-month">February 2026</div>
                <button class="calendar-nav-button">‚Ä∫</button>
              </div>
              <select class="calendar-view-select">
                <option>Week View</option>
                <option>Month View</option>
                <option>Day View</option>
              </select>
            </div>

            <div class="timezone-display">
              üåç Showing times in: <strong>Europe/Warsaw (GMT+1)</strong>
            </div>

            <!-- Calendar Grid (Week View) -->
            <div class="calendar-grid">
              <!-- Header Row -->
              <div class="calendar-header-cell">Time</div>
              <div class="calendar-header-cell">MON 10</div>
              <div class="calendar-header-cell">TUE 11</div>
              <div class="calendar-header-cell">WED 12</div>
              <div class="calendar-header-cell">THU 13</div>
              <div class="calendar-header-cell">FRI 14</div>

              <!-- 8:00 AM Row -->
              <div class="calendar-time-cell">8:00</div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>

              <!-- 8:30 AM Row -->
              <div class="calendar-time-cell">8:30</div>
              <div class="calendar-slot available">
                <div class="calendar-appointment">John Doe</div>
              </div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>

              <!-- 9:00 AM Row -->
              <div class="calendar-time-cell">9:00</div>
              <div class="calendar-slot available" id="test-slot"></div>
              <div class="calendar-slot available">
                <div class="calendar-appointment">Jane Smith</div>
              </div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>

              <!-- 9:30 AM Row -->
              <div class="calendar-time-cell">9:30</div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available">
                <div class="calendar-appointment">Test User</div>
              </div>

              <!-- 10:00 AM Row -->
              <div class="calendar-time-cell">10:00</div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>

              <!-- 10:30 AM Row -->
              <div class="calendar-time-cell">10:30</div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available">
                <div class="calendar-appointment">Dr. Wilson</div>
              </div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>

              <!-- 11:00 AM Row -->
              <div class="calendar-time-cell">11:00</div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
              <div class="calendar-slot available"></div>
            </div>

            <div class="alert-box alert-info" style="margin-top: var(--space-2); padding: var(--space-2);">
              <div style="display: flex; align-items: flex-start; gap: var(--space-2);">
                <div class="alert-box-icon" style="font-size: 14px;">‚ÑπÔ∏è</div>
                <div>
                  <div class="alert-box-title" style="font-size: var(--font-size-sm);">Cross-Timezone Reminder</div>
                  <p style="margin-top: 4px; font-size: var(--font-size-xs); line-height: var(--line-height-normal);">
                    Users in different timezones will see times in THEIR local timezone automatically.
                    DST transitions are handled automatically.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Skip Link -->
        <div class="skip-link">
          <button class="button-link">Skip wizard - Configure manually ‚Üí</button>
        </div>
      </div>

      <!-- Footer Navigation -->
      <div class="wizard-footer">
        <div>
          <button class="button button-secondary">‚Üê Back</button>
        </div>
        <div class="footer-actions">
          <button class="button button-secondary">Cancel</button>
          <button class="button button-secondary">Save as Draft</button>
          <button class="button button-success">‚úÖ DEPLOY</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Test booking interaction
    const testButton = document.getElementById('test-booking-btn');
    const successMessage = document.getElementById('success-message');
    const testSlot = document.getElementById('test-slot');

    testButton.addEventListener('click', () => {
      // Show success message
      successMessage.style.display = 'block';

      // Add appointment to calendar
      testSlot.innerHTML = '<div class="calendar-appointment">Sample Patient</div>';

      // Scroll to success message
      setTimeout(() => {
        successMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }, 100);

      // Disable button after booking
      testButton.textContent = '‚úì Test Completed';
      testButton.disabled = true;
      testButton.style.opacity = '0.7';
    });
  </script>
</body>
</html>
